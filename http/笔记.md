## 笔记

### session，cookie， token
cookie存在客户端，每次调用接口传给服务器<br>
session存在服务器端，生成一个session_id存在cookie中，每次访问服务器，会对比session_id<br>
token是服务器生成的返回的，客户端在访问时将token放在请求头中传给服务端，服务器拿到token后和数据库中的字段对照

### http1.0，http1.x, http2, https
1.http1.0和http1.x的区别
a) 缓存字段更新：http1.0的If-Modified-Since,Expires，http1.x加入Entity tag，If-Unmodified-Since, If-Match, If-None-Match<br>
b) 添加了一些有关错误信息的http状态码，409：请求资源冲突，410表示服务器上某个资源被永久删除<br>
c) 在头部添加host头域<br>
d) http1.x可以采用connection: keep-alive建立长连接<br>

2.http1.x和http2的区别<br>
a) http1.x是基于文本的解析，文本有多种表现形式，无法做到健壮性。http2使用的是二进制解析，只有01的组合不用考虑太多<br>
b) http2可以在同一个连接上做多个请求<br>
c) http2通过客户端和服务端共同维护一份字典，将已发送且没有改动的头部不重复发送，借此压缩头部。<br>
d) http2可以通过服务端推送主动推送资源给客户端

### 如何检查资源是否命中CDN缓存
查看资源的headers的x-cache字段，如果显示是MISS：没有命中CDN缓存，是回源的。如果显示是HIT，证明命中缓存

### 跨域请求的预请求
我们会发现，在很多post,put,delete等请求之前，会有一次options请求<br>
W3C规范这样要求了！在跨域请求中，分为简单请求（get和部分post，post时content-type属于application/x-www-form-urlencoded，multipart/form-data，text/plain中的一种）和复杂请求。而复杂请求发出之前，就会出现一次options请求。<br>
在ajax中出现options请求，也是一种提前探测的情况，ajax跨域请求时，如果请求的是json，就属于复杂请求，因此需要提前发出一次options请求，用以检查请求是否是可靠安全的，如果options获得的回应是拒绝性质的，比如404\403\500等http状态，就会停止post、put等请求的发出。<br>
前台跨域post请求，由于CORS（cross origin resource share）规范的存在，浏览器会首先发送一次options嗅探，同时header带上origin，判断是否有跨域请求权限，服务器响应access control allow origin的值，供浏览器与origin匹配，如果匹配则正式发送post请求。<br>